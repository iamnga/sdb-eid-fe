import { HttpClient, HttpHeaders } from '@angular/common/http';
import { Component, OnInit } from '@angular/core';
import { BankData, FingerResponse, ReadCardRequest } from '../models/mk';
import { WebsocketService } from '../services/websocket.service';

@Component({
  selector: 'app-mk',
  templateUrl: './mk.component.html',
  styleUrls: ['./mk.component.css'],
})
export class MkComponent implements OnInit {
  fpResponse: FingerResponse = new FingerResponse();
  typeCheck = 'fingerprint';
  faceResponse: any;
  faceBase64: string =
    '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';
  constructor(private http: HttpClient) {}

  ngOnInit(): void {
    // this.callMkFingerPrint();
  }

  //Step 3 - FingerPrint
  callMkFingerPrint() {
    this.fpResponse = new FingerResponse();
    let websocketService = new WebsocketService();
    websocketService.messages.subscribe((msg) => {
      this.fpResponse = msg;

      console.log(this.fpResponse);
      this.fpResponse.image = 'data:image/png;base64,' + this.fpResponse.image;
      console.log('Response from websocket: ' + this.fpResponse.verifyResponse);
    });
  }

  // recallMkFingerPrint() {
  //   this.fpResponse = new FingerResponse();
  //   this.callMkFingerPrint();
  // }

  callMkCaptureFace() {
    this.typeCheck = 'face';
    let req = new ReadCardRequest();
    req.image = this.faceBase64;
    let bankData = new BankData();
    bankData.bankAppId = 1;
    bankData.bankTransactionId = new Date().getTime().toString();
    bankData.extendedInfo = '';
    bankData.transactionCode = 123123;

    req.bankData = bankData;
    console.log(req);
    const headers = new HttpHeaders().set(
      'Content-Type',
      'text/plain; charset=utf-8'
    );
    this.http
      .post('http://localhost:7171/moc/faceicao', req, { headers: headers })
      .subscribe(
        (res: any) => {
          this.faceResponse = res;
          console.log(this.faceResponse);
        },
        (err) => {
          console.log(err);
        }
      );
  }

  onItemChange(event: any) {
    this.typeCheck = event.target.value;
    console.log(this.typeCheck);
  }
}
