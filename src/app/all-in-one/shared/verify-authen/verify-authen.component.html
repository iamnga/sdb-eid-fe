<app-aio-back-and-stepper [currentStep]="4"></app-aio-back-and-stepper>

<section>
  <!-- Input OTP Code -->
  <ng-container *ngIf="

        (currentAuthType == authType.SMSOTP ||
          currentAuthType == authType.DeviceToken ||
          currentAuthType == authType.SMSTTT ||
          currentAuthType == authType.AdvToken ||
          currentAuthType == authType.SmartOTPCode ||
          currentAuthType == authType.mCodeOTP)
    ">
    <div class="container input-code">
      <div class="row">
        <div class="col-12 text-center">
          <h4 class="text-sacom-pri">
            {{
            currentAuthType == authType.mCodeOTP
            ? "Vui lòng nhập mã mCode"
            : currentAuthType == authType.SmartOTPCode
            ? "Vui lòng nhập Smart OTP Code"
            : "Vui lòng nhập mã OTP"
            }}
          </h4>
        </div>
      </div>
      <div class="row bg-white px-5 py-4 rounded mt-4 border">
        <div class="col-12 text-center py-1">
          <div>
            <input type="text" class="otp-item" *ngFor="let item of arrOtp; last as last; let i = index"
              [ngClass]="{ last: last }" [value]="showOtp(i)" disabled readonly autofocus="false" />
          </div>
          <div class="mt-3 text-center">
            <span class="text-danger" [ngClass]="{'o-0': !err}">{{ errMsg }}</span> <span [ngClass]="{'ml-3': err}" (click)="requestAuthen()">Gửi lại mã xác thực<span class="text-sacom-sec" *ngIf="countDown > 0"> ({{countDown}}s)</span></span>
          </div>
          <div class="px-4">
            <app-keyboard-number (inputNumberEvent)="recieveInputNumber($event)"></app-keyboard-number>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-12 text-center">
          <button class="btn-pri mt-4" (click)="verifyAuthen()" [disabled]="otp.length < 6">
            Tiếp tục
          </button>
        </div>
      </div>
    </div>
  </ng-container>
  <!-- End Input OTP Code -->

  <!-- Verify On App -->
  <ng-container *ngIf="
          (currentAuthType == authType.mConnect ||
            currentAuthType == authType.SmartOTP )
    ">
    <div class="text-center py-4">
        <img *ngIf="currentAuthType == authType.mConnect" src="assets/all-in-one/shared/img/mSign.svg" alt="" class="w-10" />
        <img *ngIf="currentAuthType == authType.SmartOTP" src="assets/all-in-one/shared/img/smartOTP.svg" alt="" class="w-10" />
    </div>
    <div class="container text-center">
      <div class="row">
        <div class="col-8 offset-2 bg-white p-5 rounded border">
          <h4 class="text-sacom-pri" style="line-height: 40px;">
            Sacombank đã gửi yêu cầu xác thực <br>Vui lòng kiểm tra và duyệt giao dịch trên {{ (currentAuthType == authType.mConnect) ? 'Sacombank mSign' : 'Sacombank Pay'}}
          </h4>
        </div>
      </div>
    </div>
  </ng-container>
  <!-- End Verify On App -->
</section>