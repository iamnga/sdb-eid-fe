<app-aio-header></app-aio-header>
<app-aio-back-and-stepper [currentStep]="1"></app-aio-back-and-stepper>
<section *ngIf="!isUnderstood">
  <div class="text-center pt-5">
    <img
      src="../../../../assets/all-in-one/on-boarding/tip-capture.png"
      class="img img-fluid"
      alt=""
    />
    <br />
    <button class="btn btn-primary mt-5" (click)="understood()">
      Tôi đã hiểu
    </button>
  </div>
</section>
<section class="animate__animated animate__zoomIn">
  <div class="pb-5 text-center">
    <h3>Camera đang chụp ảnh...</h3>
  </div>
  <div class="text-center capture-box">
    <div class="video-container text-center" [ngClass]="{ 'o-0': captured }">
      <video #video [width]="WIDTH" [height]="HEIGHT" autoplay muted></video>
      <div #canvas></div>
    </div>
    <div class="countdown" *ngIf="countDownTime > 0">
      <div class="countdown-text">
        <ng-container *ngIf="isLoadingCountDown">
          <i class="fa fa-spinner fa-spin"></i>
        </ng-container>
        <ng-container *ngIf="!isLoadingCountDown">
          {{ countDownTime }}
        </ng-container>
      </div>
    </div>
    <div class="captured-img" *ngIf="captured">
      <img
        [src]="captured"
        class="img img-fluid animate__animated animate__pulse"
        alt=""
      />
    </div>
  </div>
  <div class="text-center py-3" *ngIf="captured">
    <button class="btn btn-light mx-2" (click)="reCapture()">Chụp lại</button>
    <button class="btn btn-primary mx-2" (click)="next()">Tiếp tục</button>
  </div>
</section>

<!-- <section class="py-5 text-center">
  <div *ngIf="face != ''">
    <img [src]="face" alt="" class="img img-fluid" />
  </div>
</section> -->
